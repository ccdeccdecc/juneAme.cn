
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>js面向对象-基本概念和用法01 | 红叶个人博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="红叶">
    

    
    <meta name="description" content="#js面向对象-基本概念和用法01  数据类型 等于和全等于符号说明 运算符 值类型和引用类型 对象的动态特性（点语法、中括号） in关键字 delete关键字 异常处理 面向过程和面向对象编程 面向对象的特点 创建对象的几种方法 构造函数注意事项  ##一、两种数据类型 #####1、基本（简单）数据类型string 字符串类型 number 数值（小数和整数） boolean 布尔类型（tru">
<meta name="keywords">
<meta property="og:type" content="article">
<meta property="og:title" content="js面向对象-基本概念和用法01">
<meta property="og:url" content="http://yoursite.com/2017/03/02/My-New-Post/index.html">
<meta property="og:site_name" content="红叶个人博客">
<meta property="og:description" content="#js面向对象-基本概念和用法01  数据类型 等于和全等于符号说明 运算符 值类型和引用类型 对象的动态特性（点语法、中括号） in关键字 delete关键字 异常处理 面向过程和面向对象编程 面向对象的特点 创建对象的几种方法 构造函数注意事项  ##一、两种数据类型 #####1、基本（简单）数据类型string 字符串类型 number 数值（小数和整数） boolean 布尔类型（tru">
<meta property="og:updated_time" content="2017-05-06T12:16:59.067Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="js面向对象-基本概念和用法01">
<meta name="twitter:description" content="#js面向对象-基本概念和用法01  数据类型 等于和全等于符号说明 运算符 值类型和引用类型 对象的动态特性（点语法、中括号） in关键字 delete关键字 异常处理 面向过程和面向对象编程 面向对象的特点 创建对象的几种方法 构造函数注意事项  ##一、两种数据类型 #####1、基本（简单）数据类型string 字符串类型 number 数值（小数和整数） boolean 布尔类型（tru">

    
    <link rel="alternative" href="/atom.xml" title="红叶个人博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="红叶个人博客" title="红叶个人博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="红叶个人博客">红叶个人博客</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">HTML</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/02/My-New-Post/" title="js面向对象-基本概念和用法01" itemprop="url">js面向对象-基本概念和用法01</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="红叶" target="_blank" itemprop="author">红叶</a>
		
  <p class="article-time">
    <time datetime="2017-03-02T13:04:09.000Z" itemprop="datePublished"> Published 2017-03-02</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			
		
		</div>
		
		<p>#js面向对象-基本概念和用法01</p>
<ol>
<li>数据类型</li>
<li>等于和全等于符号说明</li>
<li>运算符</li>
<li>值类型和引用类型</li>
<li>对象的动态特性（点语法、中括号）</li>
<li>in关键字</li>
<li>delete关键字</li>
<li>异常处理</li>
<li>面向过程和面向对象编程</li>
<li>面向对象的特点</li>
<li>创建对象的几种方法</li>
<li>构造函数注意事项</li>
</ol>
<p>##一、两种数据类型</p>
<p>#####1、基本（简单）数据类型<br>string 字符串类型</p>
<p>number 数值（小数和整数）</p>
<p>boolean 布尔类型（true|false）</p>
<p>null 空</p>
<p>undefined 未定义</p>
<p>#####2、复杂（复合）数据类型<br>JSON (不是数据类型，是一种数据结构)<br>Object 对象类型</p>
<p>Array  数组类型    ==&gt;object</p>
<p>Date   日期类型    ==&gt;object</p>
<p>Math   类型        ==&gt;object</p>
<p>Function 函数      ==&gt;function(并非是object)</p>
<p>RegExp   正则表达式</p>
<p>String  字符串<strong>对象</strong>类型  ==&gt;(基本包装类型)</p>
<p>Number</p>
<p>Boolean</p>
<p>#####3、判断数据的类型<br>关键字：typeof</p>
<p>######语法：typeof 变量</p>
<p>typeof 字符串  – string</p>
<p>typeof 10     –  number</p>
<p>typeof null    —&gt;null | object(正确)</p>
<p>typeof undefined –  undefined</p>
<p>typeof 复杂数据类型 – object (除了函数之外)</p>
<p>typeof function(){} – function</p>
<p><strong>注意点</strong>：1、本身是操作符不是函数；2、本身有返回值，返回值是string字符串；3、null和undefined?undefined声明了变量但是从来没有赋值，变量的值永远不会为null，除非手动的设置为null。</p>
<p>##二、等于和全等于说明</p>
<p>#####1、赋值操作（=）</p>
<p>#####2、等于符号（==）</p>
<p>作用：用来判断左边的值和右边的值是否相等</p>
<p>特点：判断值是否相等</p>
<p>#####3、全等于符号（===）<br>特点：判断值是否相等，以及类型是否相等</p>
<p>#####4、不等于符号（！=）</p>
<p>#####5、不全等于（！==）</p>
<p>##三、运算符</p>
<p>#####1、关系运算符<br>结果是布尔类型：</p>
<p>（大于 &gt;） （小于 &lt;）  （小于等于 &lt;= ）  （大于等于 &gt;=）</p>
<p>一般用在条件判断语句中(if)</p>
<p>#####2、逻辑运算符</p>
<ol>
<li>逻辑非  ！</li>
<li>逻辑与   &amp;&amp;</li>
<li>逻辑或 ||<br>##四、值类型和引用类型<br>#####1、值类型和引用类型</li>
<li><p>值类型</p>
<pre><code>string
number
boolean
undefined
null(*)
</code></pre></li>
<li><p>引用类型</p>
<pre><code>Object类型,以下类型其本质都是object类型
Function(function---&gt;object)
Array
Date
String
Number
Boolean
</code></pre></li>
</ol>
<p>注意：</p>
<p>变量在内存中存储的结构：一个名字和一个空间</p>
<p>区别：</p>
<ol>
<li>区别在于空间中存储的信息</li>
<li>值类型：存储的是具体的数据</li>
<li>引用类型：存储的是一个引用（reference）[地址],该引用指向内存中一块空间，这块空间中存储着具体的数据</li>
</ol>
<p>举例：</p>
<pre><code>01(变量的名称)   ---&gt;一个苹果(具体的数据)
02(变量的名称)   ---&gt;苹果在超市的第二排货架的第一列(地址)
</code></pre><p>#####2、值类型和引用类型的赋值<br>1、 值类型的赋值</p>
<p>赋值操作：是把右边变量（空间中）存储的值[具体的数据]复制一份放在左边变量</p>
<p><strong>注意：</strong>修改了其中的一个变量对另外一个变量<strong>没有</strong>影响</p>
<p>2、 引用类型的赋值</p>
<p>赋值操作：是把右边变量存储的值[地址]复制一份放在左边变量（空间中）</p>
<p><strong>注意：</strong>修改了其中的一个变量对另外一个变量是<strong>有</strong>影响</p>
<p>3.、在函数中的使用</p>
<p>3.1、函数的参数:</p>
<p>形参(形式参数):该变量是用来占位用的,在调用之前是没有值的,在函数内部表现为一个局部变量</p>
<p>实参:函数调用的时候传入的参数,这个参数是有值的</p>
<p>3.2、函数的调用</p>
<p>把实参的值赋值给形参</p>
<p>值类型数据作为函数的参数:那么内部修改了形参的值,对外部的实参没有影响的</p>
<p>引用类型数据作为函数的参数:那么内部修改了形参的值,对外部的实参有影响,他们指向的是内存中的同一块数据</p>
<p>##五、对象的动态特性（点语法、中括号）<br>对象支持动态特性：增加属性(方法) | 删除属性(方法) |修改属性(方法) |查询（增删查改）</p>
<p>对象：键-值对的集合（key-value）</p>
<p>属性：在对象内部声明的变量</p>
<p>方法：在对象内部定义的函数</p>
<p>操作对象的属性和方法可以使用：01、点语法 02、中括号[];</p>
<p>区分添加还是修改：在通过点语法的方式访问属性的时候，先检查该属性是否存在，如果存在那么就是修改；如果属性不存在，那么就是添加</p>
<p>##六、in关键字<br>作用：1、检测属性–语法：”属性” in 对象; 返回值：布尔类型的值</p>
<pre><code>var dog = {
    name:&apos;&apos;,
    color:&apos;red&apos;
}

console.log(&quot;name&quot; in dog); //true
console.log(&quot;age&quot; in dog); //true
</code></pre><p><strong>注意</strong>1、属性必须是字符串；2、在使用in操作处理数组的时候需要注意—在数组中索引是key ,数组的元素是value；</p>
<p>2、遍历（对象）</p>
<pre><code>var arr = [1,2,3,4,5,6];
//在数组中索引是key ,数组的元素是value
console.log(2 in arr);   //前面的2是索引还是元素?  是索引
console.log(&quot;2&quot; in arr); 
console.log(6 in arr);  // false
</code></pre><p>##七、delete关键字<br>delete深入详解<a href="http://www.cnblogs.com/yuzhongwusan/archive/2012/06/14/2549879.html" title="delete深入详解" target="_blank" rel="external">http://www.cnblogs.com/yuzhongwusan/archive/2012/06/14/2549879.html</a></p>
<p>作用：1、删除对象中的属性</p>
<p>2、删除没有使用var关键字声明的全局变量</p>
<p><strong>注意</strong><br>1、返回值 布尔类型的值（可以通过该值来判断是否删除成功）</p>
<p>2、使用var关键字声明的变量无法被删除</p>
<p>3、删除对象中不存在的属性没有任何变化，但是返回值为true</p>
<p>4、不能删除使用var 声明声明的全局变量，但是可以删除直接定义在window上面的属性</p>
<pre><code>window.showInfo = &quot;测试删除&quot;;
console.log(delete window.showInfo);//true
</code></pre><p>5、删除对象的原型对象（prototype）中的属性，不能删除，返回值为true; —&gt;?</p>
<p>##八、异常处理<br>1、结构：</p>
<pre><code>try{
    //可能出错的代码
}catch(e){
    //如果上面的代码出现了错误，那么就会执行这个代码块中的任务
    //一般在这个代码块中要做相应的补救处理
    //参数e：异常信息
}
</code></pre><p>2、手动抛出异常</p>
<p>语法： throw 具体的信息</p>
<p>抛出的内容:字符串 + 对象</p>
<p>自己编码规范:如果出错或者是有异常,那么就抛出一个对象(msg code)<br>&gt;<br>函数未定义   1001<br>&gt;<br>变量未定义   1002<br>&gt;<br>访问了错误的数据 1003</p>
<p>3、完整的异常捕获结构</p>
<pre><code>try{
    //可能出错的代码
}catch(e){
    console.log(e,&quot;____&quot;);
    //出错了就执行这个代码块
}finally{
    //不管是否出错,都会执行这里的代码块
    //一般在前端开发中不会使用,多多用于后端开发Node.js 主要用于在最后释放资源
}
</code></pre><p>示例：</p>
<pre><code>&lt;script&gt;
    try{
        //可能出现问题的代码
        function sum(a,b)
        {
            if(a == undefined)
            {
                //throw &quot;请输入具体的参数!&quot;;
                throw  {
                    ErrMsg:&quot;找不到该对象!&quot;,
                    ErrCode:1004
                }
            }
            console.log(a + b);
        }
        sum();
    }catch (e){
        console.log(e,&quot;____&quot;);
    }
&lt;/script&gt;
</code></pre><p>#</p>
<p>###DOM操作:增加 | 删除 | 修改 |查询</p>
<p>##九、面向过程和面向对象编程<br>1、都是很一种解决问题的思路（思想）</p>
<ul>
<li>面向<strong>过程</strong>在解决问题的时候，关注的是解决问题需要的一个接着一个的过程（步骤）</li>
<li>面向<strong>对象</strong>在解决问题的时候，关注的是解决问题所需要的对象<br>&gt;<br>例子：吃饭<br>&gt;<br>自己做饭(买米–买菜–做饭–做菜–吃)–面向过程<br>&gt;<br>去餐馆吃饭(告诉要吃的是什么,吃)–面向对象</li>
</ul>
<p>2、面向对象和面向过程都是解决问题的一种方式(思想),没有孰优孰劣之分.</p>
<p><em>面向对象本身是对面向过程的封装.</em></p>
<p>3、面向对象编程最重要的什么?</p>
<p>找到对象(内置对象 + 自己创建)</p>
<p>##十、面向对象的特点</p>
<p>#####1、封装<br>作用：方便代码的维护，提高代码的复用性，更安全的方位数据的方式，<strong>使用对象来封装变量和函数–js中</strong></p>
<p>#####2、继承<br>一个类（对象）获得另外一个类（对象）的属性和方法的一种方式；<strong>js中没有类（class）</strong></p>
<p>#####3、多态<br>多种形态：表现–01、对于相同的操作，不同的对象表现出不同的行为</p>
<p>02、隐藏不同</p>
<p>实现：js天生具备多态的特性（弱类型的语言）</p>
<p>##十一、创建对象的几种方法</p>
<p>#####1、字面量方式<br>结构：</p>
<pre><code>var 对象 = {
    属性名01：属性值,
    属性名02：属性值,
    方法01：function(){函数体}
}
</code></pre><p>例：</p>
<pre><code>var book = {
    name:&quot;悟空传&quot;,
    author:&quot;今何在&quot;,
    press:&quot;湖南文艺出版社&quot;,
    price:&quot;28.00&quot;,
    logDes:function(){
        console.log(&quot;书名：&quot; + this.name + &quot;作者：&quot; + this.author);
    }
}
</code></pre><p>适用场合：只需简单创建单个对象</p>
<p>问题：创建多个时，代码冗余</p>
<p>#####2、使用内置的构造函数<br>    Object Function (String Number Boolean) Array Date ….<br>#<br>    //01 创建空的对象<br>    var book = new Object();<br>    //02 设置属性<br>    book.name = “花田半亩”;<br>    book.author = “田维”;<br>    book.price = “40.01”;<br>    //03 设置方法<br>    book.logDes = function (){<br>        console.log(“书名：” + this.name);<br>    }<br>    book.logDes();<br>问题：创建多个时，代码冗余</p>
<p>#####3、使用简单工厂函数<br>这里用到了<strong>封装：</strong>把固定的部分提取写成函数的函数体，把变化的部分提取，作为参数传递</p>
<pre><code>//01 提供函数（工厂函数）
function createBook(name,author){
    //02 创建空的对象
    var o = new Object();
    //03 设置属性和方法
    o.name = name;
    o.author = author;
    o.logDes = function(){
        console.log(&quot;作者是：&quot; + this.author);
    }

    //04 返回新创建的对象
    return o;
}

//05 创建对象
var book1 = createBook(&quot;小学数学&quot;,&quot;教育部&quot;);
var book2 = createBook(&quot;高等数学&quot;,&quot;燕子&quot;);
console.log(book1);
console.log(book2);
</code></pre><p>问题：如果创建多个不同类型的对象，那么我们无法区分对象的类型</p>
<p>#####4、自定义构造函数<br><em>1、工厂函数方式创建</em></p>
<pre><code>function createPerson(name,age){
    //01 原料 ： name + age + 空对象
    var o = new Object();

    //02 对原料进行加工
    o.name = name;
    o.age = age;

    //03 产品出厂
    return o;
}

var p1 = createPerson(&quot;张三&quot;,20);
var p2 = createPerson(&quot;李二&quot;,19);
var p3 = createPerson(&quot;王四&quot;,21);
</code></pre><p><em>2、自定义构造函数创建对象</em></p>
<ol>
<li><p>提供一个构造函数</p>
</li>
<li><p>通过this指针来设置属性和方法<br>如果是使用new构造函数()调用，那么this–指向–&gt;具体的对象<br>如果是以普通函数的方式调用，那么this —&gt; window</p>
</li>
</ol>
<p>判断是否使用new 来调用构造函数<br>方法一：</p>
<pre><code>if(this != window){
    this.name = name;
}else{}
</code></pre><p>方法二：</p>
<pre><code>if(this instanceof 对象名){
    this.name = name;
}else{}
</code></pre><p>方法一不是特别好，建议用第二种；</p>
<p>关于this丢失的问题</p>
<ol>
<li><p>通过new操作符创建对象<br>构造函数必须要和new一起使用如果直接调用那么无法创建</p>
<blockquote>
<p>构造函数简单介绍：<br>作用：对对象进行一些初始化的设置;<br><em>和普通函数区别</em>：（01）首字母大写（02）调用方式不一样和new配合使用</p>
</blockquote>
<p>function Person(name,age){<br>   // 默认 创建对象<br>   //var o = new Object();<br>   //默认会赋值给this<br>   //this = o;</p>
<p>   // 通过this指针来设置属性和方法<br>   this.name = name;<br>   this.age = age;<br>   this.showName = function(){</p>
<pre><code>console.log(this.name);
</code></pre><p>   };<br>   this.showAge = function(){</p>
<pre><code>console.log(this.age);
</code></pre><p>   }</p>
<p>   //默认返回<br>   //return this;<br>}</p>
<p>//03 使用new操作符来创建对象<br>var p1 = new Person(“张三”,20);<br>var p2 = new Person(“张老汉”,200);<br>console.log(p1);<br>console.log(p2);</p>
</li>
</ol>
<p><em>3、自定义构造函数和工厂函数对比</em></p>
<ul>
<li>函数的名称不一样，构造函数首字母大写</li>
<li>自定义构造函数创建方式内部会自动的创建空对象并且赋值给this</li>
<li>默认会自动返回新创建的对象</li>
</ul>
<p><em>4、返回值</em></p>
<ol>
<li>没有显示的return ,默认会把新创建的对象返回</li>
<li><p>显示的执行了return语句，就得看具体的情况</p>
<p> 2.1、返回的是值类型，那么直接忽略该返回，把新创建的对象返回</p>
<p> 2.2、返回的是引用类型的数据，会覆盖掉新创建的对象，直接返回引用数据类型的值</p>
<pre><code>function Dog(name)
{
    this.name = name;
    //return &quot;demo&quot;;  //忽略
    //return function (){};//会覆盖掉新创建的对象
}

var dog = new Dog(&quot;阿黄&quot;);
console.log(dog);
</code></pre></li>
</ol>
<p>##十二、构造函数注意事项</p>
<p>#####1、函数传值</p>
<pre><code>function Student(number,className,log){
    this.number = number;
    this.className = className;
    this.log = log;
}

var stu1 = new Student(&quot;201701&quot;,&quot;九阴真经修炼01班&quot;,function(){
   console.log(&quot;学号：&quot; + this.number);
});

var stu2 = new Student(&quot;201702&quot;,&quot;九阴真经修炼01班&quot;,function(){
    console.log(&quot;班级名称：&quot; + this.className);
});

stu1.log();
stu2.log();
</code></pre><p>#####2、对象的类型（判断）<br>关键字 instanceOf 用来判断当前对象是否是某个类型的实例（检查某个对象是否是使用指定构造函数创建的）</p>
<p>语法： 对象 instanceOf 构造函数（类型）</p>
<pre><code>function Person(){};
function Dog(){};

var p1 = new Person();
var dog1 = new Dog();

console.log(p1 instanceof Person);//true
console.log(p1 instanceof Dog);//false
console.log(dog1 instanceof Person);//false
console.log(dog1 instanceof Dog);//true
</code></pre><p>#####3、构造器属性（获取）<br>在所有的对象中，都拥有一个构造器属性：constructor<br>指向的是创建当前对象的构造函数<br>    function Person(){};<br>    function Dog(){};<br>    var p1 = new Person();<br>    var dog1 = new Dog();</p>
<pre><code>console.log(p1.constructor);
console.log(dog1.constructor);
</code></pre><p>#####4、函数调用<br>new:创建对象，并在最后返回该对象</p>
<p>构造函数：用于初始化对象</p>
<p>以普通函数的方式来调用构造函数，那么内部的this指向的是window</p>
<p>#####5、构造函数方式创建对象存在的问题</p>
<ol>
<li>把函数写在外部，破坏了封装性</li>
<li>增加一个全局变量</li>
</ol>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://yoursite.com/2017/03/02/My-New-Post/" data-title="js面向对象-基本概念和用法01 | 红叶个人博客" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 

<div class="next">
<a href="/2017/04/28/hello-world/"  title="Hello World">
 <strong>下一篇：</strong><br/> 
 <span>Hello World
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  

  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 大家好，我是红叶 <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2017 
		
		<a href="/about" target="_blank" title="红叶">红叶</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
